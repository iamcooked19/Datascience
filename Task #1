# Import necessary libraries
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

titanic = sns.load_dataset('titanic')
print("First 5 rows of the dataset:")
print(titanic.head())
print("\nDataset Information:")
print(titanic.info())
print("\nMissing values in each column:")
print(titanic.isnull().sum())
titanic['age'] = titanic['age'].fillna(titanic['age'].median())
titanic['embarked'] = titanic['embarked'].fillna(titanic['embarked'].mode()[0])
titanic.drop(columns='deck', inplace=True)
titanic.dropna(inplace=True)
titanic.drop_duplicates(inplace=True)
plt.figure(figsize=(6, 4))
sns.boxplot(x=titanic['age'])
plt.title('Boxplot of Age')
plt.xlabel('age')
plt.tight_layout()
plt.show()
plt.figure(figsize=(6, 4))
sns.countplot(data=titanic, x='sex')
plt.title('Count of Passengers by Sex')
plt.tight_layout()
plt.show()
plt.figure(figsize=(6, 4))
sns.countplot(data=titanic, x='class')
plt.title('Passenger Class Distribution')
plt.tight_layout()
plt.show()
plt.figure(figsize=(6, 4))
sns.histplot(titanic['age'], bins=20, kde=True)
plt.title('Age Distribution')
plt.tight_layout()
plt.show()
plt.figure(figsize=(6, 4))
sns.histplot(titanic['fare'], bins=20, kde=True)
plt.title('Fare Distribution')
plt.tight_layout()
plt.show()
plt.figure(figsize=(10, 6))
sns.heatmap(titanic.corr(numeric_only=True), annot=True, cmap='coolwarm', fmt=".2f")
plt.title('Correlation Heatmap')
plt.tight_layout()
plt.show()
print("\n--- Summary of EDA Insights ---")
print("1. Most passengers are in 3rd class and male.")
print("2. Median age was used to fill missing values in 'age'.")
print("3. Mode of 'embarked' was used to fill missing values there.")
print("4. 'Deck' column dropped due to too many nulls.")
print("5. There are outliers in the 'age' and 'fare' columns.")
print("6. Age and Fare distributions are right-skewed.")
print("7. Survival is positively correlated with being female and higher-class passengers.")
print("8. Correlation heatmap shows some expected weak correlations between survival and other numeric features.")
